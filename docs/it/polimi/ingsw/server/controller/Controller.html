<!DOCTYPE HTML>
<html lang="it">
<head>
<!-- Generated by javadoc (17) on Fri Jul 01 00:01:58 CEST 2022 -->
<title>Controller</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2022-07-01">
<meta name="description" content="declaration: package: it.polimi.ingsw.server.controller, class: Controller">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">it.polimi.ingsw.server.controller</a></div>
<h1 title="Class Controller" class="title">Class Controller</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">it.polimi.ingsw.server.controller.Controller</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../../network/listeners/MessageListener.html" title="interface in it.polimi.ingsw.network.listeners">MessageListener</a></code>, <code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a></code>, <code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/EventListener.html" title="class or interface in java.util" class="external-link">EventListener</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">Controller</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>, <a href="../../network/listeners/MessageListener.html" title="interface in it.polimi.ingsw.network.listeners">MessageListener</a></span></div>
<div class="block">Controller class manages the first request for each client. If the request is valid instantiates a client handler.
 Each client handler request to the Controller class specified methods for updating the model. Controller verifies the validity
 of the request and calls the correct method. Provide an updated view for each client</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>private final <a href="../ClientManager.html" title="class in it.polimi.ingsw.server">ClientManager</a></code></div>
<div class="col-second even-row-color"><code><a href="#clientManager" class="member-name-link">clientManager</a></code></div>
<div class="col-last even-row-color">
<div class="block">The ClientManager associated to the Controller</div>
</div>
<div class="col-first odd-row-color"><code>private <a href="../lobby/Lobby.html" title="class in it.polimi.ingsw.server.lobby">Lobby</a></code></div>
<div class="col-second odd-row-color"><code><a href="#lobby" class="member-name-link">lobby</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Lobby for the party</div>
</div>
<div class="col-first even-row-color"><code>private <a href="../model/Game.html" title="interface in it.polimi.ingsw.server.model">Game</a></code></div>
<div class="col-second even-row-color"><code><a href="#model" class="member-name-link">model</a></code></div>
<div class="col-last even-row-color">
<div class="block">the instance of the game model</div>
</div>
<div class="col-first odd-row-color"><code>private final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/LinkedBlockingQueue.html" title="class or interface in java.util.concurrent" class="external-link">LinkedBlockingQueue</a>&lt;<a href="../../network/listeners/MessageEvent.html" title="class in it.polimi.ingsw.network.listeners">MessageEvent</a>&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#queue" class="member-name-link">queue</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The queue used to process the message events.</div>
</div>
<div class="col-first even-row-color"><code>private boolean</code></div>
<div class="col-second even-row-color"><code><a href="#stopped" class="member-name-link">stopped</a></code></div>
<div class="col-last even-row-color">
<div class="block">If the controller is stopped</div>
</div>
<div class="col-first odd-row-color"><code>private boolean</code></div>
<div class="col-second odd-row-color"><code><a href="#waiting" class="member-name-link">waiting</a></code></div>
<div class="col-last odd-row-color">
<div class="block">If the controller should wait and do nothing</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(it.polimi.ingsw.server.ClientManager)" class="member-name-link">Controller</a><wbr>(<a href="../ClientManager.html" title="class in it.polimi.ingsw.server">ClientManager</a>&nbsp;clientManager)</code></div>
<div class="col-last even-row-color">
<div class="block">Default constructor of class Controller</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addModelListener(it.polimi.ingsw.network.listeners.MessageListener)" class="member-name-link">addModelListener</a><wbr>(<a href="../../network/listeners/MessageListener.html" title="interface in it.polimi.ingsw.network.listeners">MessageListener</a>&nbsp;listener)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method adds a new listener to the model</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addPlayer(java.lang.String)" class="member-name-link">addPlayer</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Method for sett a new player inside the model</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#canPlay(java.lang.String)" class="member-name-link">canPlay</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Used to know if is a player turn</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#changeTeam(java.lang.String,it.polimi.ingsw.server.model.enums.Tower)" class="member-name-link">changeTeam</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname,
 <a href="../model/enums/Tower.html" title="enum class in it.polimi.ingsw.server.model.enums">Tower</a>&nbsp;tower)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Tries to change the team of one player</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getCurrentPlayer()" class="member-name-link">getCurrentPlayer</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return the nickname of the current Player</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../model/enums/Tower.html" title="enum class in it.polimi.ingsw.server.model.enums">Tower</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getPlayerTeam(java.lang.String)" class="member-name-link">getPlayerTeam</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;identifier)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the team of the player.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#handleDisconnect(it.polimi.ingsw.server.VirtualClient)" class="member-name-link">handleDisconnect</a><wbr>(<a href="../VirtualClient.html" title="class in it.polimi.ingsw.server">VirtualClient</a>&nbsp;vc)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Handles the skip turn request.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#handleGameSetup(it.polimi.ingsw.server.VirtualClient,it.polimi.ingsw.network.messages.Message)" class="member-name-link">handleGameSetup</a><wbr>(<a href="../VirtualClient.html" title="class in it.polimi.ingsw.server">VirtualClient</a>&nbsp;vc,
 <a href="../../network/messages/Message.html" title="interface in it.polimi.ingsw.network.messages">Message</a>&nbsp;msg)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Handle the messages during the setup phase</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#handleMessage(it.polimi.ingsw.network.listeners.MessageEvent)" class="member-name-link">handleMessage</a><wbr>(<a href="../../network/listeners/MessageEvent.html" title="class in it.polimi.ingsw.network.listeners">MessageEvent</a>&nbsp;event)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Handles the message event.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#handlePlanningPhase(it.polimi.ingsw.server.VirtualClient,it.polimi.ingsw.network.messages.Message)" class="member-name-link">handlePlanningPhase</a><wbr>(<a href="../VirtualClient.html" title="class in it.polimi.ingsw.server">VirtualClient</a>&nbsp;vc,
 <a href="../../network/messages/Message.html" title="interface in it.polimi.ingsw.network.messages">Message</a>&nbsp;msg)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Handle the messages during the planning phase</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#handlePlayingPhase(it.polimi.ingsw.server.VirtualClient,it.polimi.ingsw.network.messages.Message)" class="member-name-link">handlePlayingPhase</a><wbr>(<a href="../VirtualClient.html" title="class in it.polimi.ingsw.server">VirtualClient</a>&nbsp;vc,
 <a href="../../network/messages/Message.html" title="interface in it.polimi.ingsw.network.messages">Message</a>&nbsp;msg)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Handle the messages during the playing phase</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isGameStarted()" class="member-name-link">isGameStarted</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns if the game is started</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isInstantiated()" class="member-name-link">isInstantiated</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Method used to know if the model is instantiated</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#notifyCurrentGameStateToPlayer(java.lang.String)" class="member-name-link">notifyCurrentGameStateToPlayer</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;identifier)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Notifies a specific player sending him the game view.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onMessage(it.polimi.ingsw.network.listeners.MessageEvent)" class="member-name-link">onMessage</a><wbr>(<a href="../../network/listeners/MessageEvent.html" title="class in it.polimi.ingsw.network.listeners">MessageEvent</a>&nbsp;event)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Override methods from MessageListener Interface.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeModelListener(it.polimi.ingsw.network.listeners.MessageListener)" class="member-name-link">removeModelListener</a><wbr>(<a href="../../network/listeners/MessageListener.html" title="interface in it.polimi.ingsw.network.listeners">MessageListener</a>&nbsp;listener)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Removes one selected listener from the model</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#run()" class="member-name-link">run</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method take the request from the queue and try to apply the changes.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#sendInitialStats(it.polimi.ingsw.network.listeners.MessageListener)" class="member-name-link">sendInitialStats</a><wbr>(<a href="../../network/listeners/MessageListener.html" title="interface in it.polimi.ingsw.network.listeners">MessageListener</a>&nbsp;messageListener)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Send the current wizard situation to a specified listener</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setModelAndLobby(it.polimi.ingsw.server.model.enums.GamePreset,it.polimi.ingsw.server.model.enums.GameMode,it.polimi.ingsw.server.lobby.Lobby)" class="member-name-link">setModelAndLobby</a><wbr>(<a href="../model/enums/GamePreset.html" title="enum class in it.polimi.ingsw.server.model.enums">GamePreset</a>&nbsp;preset,
 <a href="../model/enums/GameMode.html" title="enum class in it.polimi.ingsw.server.model.enums">GameMode</a>&nbsp;mode,
 <a href="../lobby/Lobby.html" title="class in it.polimi.ingsw.server.lobby">Lobby</a>&nbsp;lobby)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Setter of the model.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setWaiting(boolean)" class="member-name-link">setWaiting</a><wbr>(boolean&nbsp;waiting)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method sets the status to waiting.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#startGame(java.lang.String)" class="member-name-link">startGame</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Method used by onMessage for starting the game.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#stop()" class="member-name-link">stop</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Method used to stop the thread.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-it.polimi.ingsw.network.listeners.MessageListener">Methods inherited from interface&nbsp;it.polimi.ingsw.network.listeners.<a href="../../network/listeners/MessageListener.html" title="interface in it.polimi.ingsw.network.listeners">MessageListener</a></h3>
<code><a href="../../network/listeners/MessageListener.html#getIdentifier()">getIdentifier</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="model">
<h3>model</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="../model/Game.html" title="interface in it.polimi.ingsw.server.model">Game</a></span>&nbsp;<span class="element-name">model</span></div>
<div class="block">the instance of the game model</div>
</section>
</li>
<li>
<section class="detail" id="lobby">
<h3>lobby</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="../lobby/Lobby.html" title="class in it.polimi.ingsw.server.lobby">Lobby</a></span>&nbsp;<span class="element-name">lobby</span></div>
<div class="block">Lobby for the party</div>
</section>
</li>
<li>
<section class="detail" id="clientManager">
<h3>clientManager</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="../ClientManager.html" title="class in it.polimi.ingsw.server">ClientManager</a></span>&nbsp;<span class="element-name">clientManager</span></div>
<div class="block">The ClientManager associated to the Controller</div>
</section>
</li>
<li>
<section class="detail" id="queue">
<h3>queue</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/LinkedBlockingQueue.html" title="class or interface in java.util.concurrent" class="external-link">LinkedBlockingQueue</a>&lt;<a href="../../network/listeners/MessageEvent.html" title="class in it.polimi.ingsw.network.listeners">MessageEvent</a>&gt;</span>&nbsp;<span class="element-name">queue</span></div>
<div class="block">The queue used to process the message events.</div>
</section>
</li>
<li>
<section class="detail" id="stopped">
<h3>stopped</h3>
<div class="member-signature"><span class="modifiers">private volatile</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">stopped</span></div>
<div class="block">If the controller is stopped</div>
</section>
</li>
<li>
<section class="detail" id="waiting">
<h3>waiting</h3>
<div class="member-signature"><span class="modifiers">private volatile</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">waiting</span></div>
<div class="block">If the controller should wait and do nothing</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(it.polimi.ingsw.server.ClientManager)">
<h3>Controller</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">Controller</span><wbr><span class="parameters">(<a href="../ClientManager.html" title="class in it.polimi.ingsw.server">ClientManager</a>&nbsp;clientManager)</span></div>
<div class="block">Default constructor of class Controller</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>clientManager</code> - the client manager associated with this controller</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="setWaiting(boolean)">
<h3>setWaiting</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setWaiting</span><wbr><span class="parameters">(boolean&nbsp;waiting)</span></div>
<div class="block">This method sets the status to waiting. It is used when there's only one player left in the party.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>waiting</code> - true if the party is waiting for the other player to join.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isInstantiated()">
<h3>isInstantiated</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isInstantiated</span>()</div>
<div class="block">Method used to know if the model is instantiated</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if the model is instantiated</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setModelAndLobby(it.polimi.ingsw.server.model.enums.GamePreset,it.polimi.ingsw.server.model.enums.GameMode,it.polimi.ingsw.server.lobby.Lobby)">
<h3>setModelAndLobby</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setModelAndLobby</span><wbr><span class="parameters">(<a href="../model/enums/GamePreset.html" title="enum class in it.polimi.ingsw.server.model.enums">GamePreset</a>&nbsp;preset,
 <a href="../model/enums/GameMode.html" title="enum class in it.polimi.ingsw.server.model.enums">GameMode</a>&nbsp;mode,
 <a href="../lobby/Lobby.html" title="class in it.polimi.ingsw.server.lobby">Lobby</a>&nbsp;lobby)</span></div>
<div class="block">Setter of the model. Calls the GameBuilder</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>preset</code> - is the number of players for the game</dd>
<dd><code>mode</code> - is the mode of the game</dd>
<dd><code>lobby</code> - lobby of the game</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addPlayer(java.lang.String)">
<h3>addPlayer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">addPlayer</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname)</span></div>
<div class="block">Method for sett a new player inside the model</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>nickname</code> - the nickname of the new player</dd>
<dt>Returns:</dt>
<dd>True if the player has been added. False if the game is full or the nickname is already chosen</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addModelListener(it.polimi.ingsw.network.listeners.MessageListener)">
<h3>addModelListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addModelListener</span><wbr><span class="parameters">(<a href="../../network/listeners/MessageListener.html" title="interface in it.polimi.ingsw.network.listeners">MessageListener</a>&nbsp;listener)</span></div>
<div class="block">This method adds a new listener to the model</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>listener</code> - the listener of the model</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeModelListener(it.polimi.ingsw.network.listeners.MessageListener)">
<h3>removeModelListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removeModelListener</span><wbr><span class="parameters">(<a href="../../network/listeners/MessageListener.html" title="interface in it.polimi.ingsw.network.listeners">MessageListener</a>&nbsp;listener)</span></div>
<div class="block">Removes one selected listener from the model</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>listener</code> - the removed listener</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isGameStarted()">
<h3>isGameStarted</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isGameStarted</span>()</div>
<div class="block">Returns if the game is started</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a boolean true if the game is started</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="onMessage(it.polimi.ingsw.network.listeners.MessageEvent)">
<h3>onMessage</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">onMessage</span><wbr><span class="parameters">(<a href="../../network/listeners/MessageEvent.html" title="class in it.polimi.ingsw.network.listeners">MessageEvent</a>&nbsp;event)</span></div>
<div class="block">Override methods from MessageListener Interface.
 When a Virtual Client receives a valid message notify the controller that put the event in a queue that contains
 all the request that need to be handled .</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../network/listeners/MessageListener.html#onMessage(it.polimi.ingsw.network.listeners.MessageEvent)">onMessage</a></code>&nbsp;in interface&nbsp;<code><a href="../../network/listeners/MessageListener.html" title="interface in it.polimi.ingsw.network.listeners">MessageListener</a></code></dd>
<dt>Parameters:</dt>
<dd><code>event</code> - of the received message</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="handleMessage(it.polimi.ingsw.network.listeners.MessageEvent)">
<h3>handleMessage</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">handleMessage</span><wbr><span class="parameters">(<a href="../../network/listeners/MessageEvent.html" title="class in it.polimi.ingsw.network.listeners">MessageEvent</a>&nbsp;event)</span></div>
<div class="block">Handles the message event. Analyze the message and apply the request to the model (if it's possible).
 onMessage method is divided into 5 different methods; each of the methods handle a specific game phase.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>event</code> - of the received message</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="handleDisconnect(it.polimi.ingsw.server.VirtualClient)">
<h3>handleDisconnect</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">handleDisconnect</span><wbr><span class="parameters">(<a href="../VirtualClient.html" title="class in it.polimi.ingsw.server">VirtualClient</a>&nbsp;vc)</span></div>
<div class="block">Handles the skip turn request.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>vc</code> - the virtual client that sent the request</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="handleGameSetup(it.polimi.ingsw.server.VirtualClient,it.polimi.ingsw.network.messages.Message)">
<h3>handleGameSetup</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">handleGameSetup</span><wbr><span class="parameters">(<a href="../VirtualClient.html" title="class in it.polimi.ingsw.server">VirtualClient</a>&nbsp;vc,
 <a href="../../network/messages/Message.html" title="interface in it.polimi.ingsw.network.messages">Message</a>&nbsp;msg)</span></div>
<div class="block">Handle the messages during the setup phase</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>vc</code> - is the Virtual Client bonded with the request</dd>
<dd><code>msg</code> - is the Message</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="sendInitialStats(it.polimi.ingsw.network.listeners.MessageListener)">
<h3>sendInitialStats</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">sendInitialStats</span><wbr><span class="parameters">(<a href="../../network/listeners/MessageListener.html" title="interface in it.polimi.ingsw.network.listeners">MessageListener</a>&nbsp;messageListener)</span></div>
<div class="block">Send the current wizard situation to a specified listener</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>messageListener</code> - the client who is going to receive</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="handlePlanningPhase(it.polimi.ingsw.server.VirtualClient,it.polimi.ingsw.network.messages.Message)">
<h3>handlePlanningPhase</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">handlePlanningPhase</span><wbr><span class="parameters">(<a href="../VirtualClient.html" title="class in it.polimi.ingsw.server">VirtualClient</a>&nbsp;vc,
 <a href="../../network/messages/Message.html" title="interface in it.polimi.ingsw.network.messages">Message</a>&nbsp;msg)</span></div>
<div class="block">Handle the messages during the planning phase</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>vc</code> - is the Virtual Client bonded with the request</dd>
<dd><code>msg</code> - is the Message</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="handlePlayingPhase(it.polimi.ingsw.server.VirtualClient,it.polimi.ingsw.network.messages.Message)">
<h3>handlePlayingPhase</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">handlePlayingPhase</span><wbr><span class="parameters">(<a href="../VirtualClient.html" title="class in it.polimi.ingsw.server">VirtualClient</a>&nbsp;vc,
 <a href="../../network/messages/Message.html" title="interface in it.polimi.ingsw.network.messages">Message</a>&nbsp;msg)</span></div>
<div class="block">Handle the messages during the playing phase</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>vc</code> - is the Virtual Client bonded with the request</dd>
<dd><code>msg</code> - is the Message</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="startGame(java.lang.String)">
<h3>startGame</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">startGame</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname)</span></div>
<div class="block">Method used by onMessage for starting the game.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>nickname</code> - who try to call this method</dd>
<dt>Returns:</dt>
<dd>true if the game is started. False if the game can't start or who request this method doesn't have
 the rights</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="changeTeam(java.lang.String,it.polimi.ingsw.server.model.enums.Tower)">
<h3>changeTeam</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">changeTeam</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname,
 <a href="../model/enums/Tower.html" title="enum class in it.polimi.ingsw.server.model.enums">Tower</a>&nbsp;tower)</span></div>
<div class="block">Tries to change the team of one player</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>nickname</code> - of the player who wants to change team</dd>
<dd><code>tower</code> - the team he wants to join</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="canPlay(java.lang.String)">
<h3>canPlay</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">canPlay</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname)</span></div>
<div class="block">Used to know if is a player turn</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>nickname</code> - the player who send a message</dd>
<dt>Returns:</dt>
<dd>true if the player is the current player</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getCurrentPlayer()">
<h3>getCurrentPlayer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getCurrentPlayer</span>()</div>
<div class="block">Return the nickname of the current Player</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>null if the model is not instantiated or the nickname of the current player</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="run()">
<h3>run</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">run</span>()</div>
<div class="block">This method take the request from the queue and try to apply the changes.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html#run()" title="class or interface in java.lang" class="external-link">run</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="stop()">
<h3>stop</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">stop</span>()</div>
<div class="block">Method used to stop the thread.</div>
</section>
</li>
<li>
<section class="detail" id="getPlayerTeam(java.lang.String)">
<h3>getPlayerTeam</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../model/enums/Tower.html" title="enum class in it.polimi.ingsw.server.model.enums">Tower</a></span>&nbsp;<span class="element-name">getPlayerTeam</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;identifier)</span></div>
<div class="block">Returns the team of the player.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>identifier</code> - the nickname of the player.</dd>
<dt>Returns:</dt>
<dd>the team of the player.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="notifyCurrentGameStateToPlayer(java.lang.String)">
<h3>notifyCurrentGameStateToPlayer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">notifyCurrentGameStateToPlayer</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;identifier)</span></div>
<div class="block">Notifies a specific player sending him the game view.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>identifier</code> - the nickname of the player.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
